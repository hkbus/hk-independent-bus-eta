import{g as Zt,aR as Jt,aS as Qt,r as O,aT as ae,aU as Nt,aV as er,K as Pe,o as Le,L as ne,N as $e,t as Ae,v as U,j as v,O as te,n as ke,S as tr,a8 as W,ab as We,ac as T,aW as Ne,ae as rr,a6 as B,aa as Ie,a5 as N,aX as nr,H as rt,E as ir,aY as nt,aj as sr,a7 as V,a0 as A,ap as it,aB as st,I as qt,aM as or,aN as ar,aZ as lr,a_ as cr,aE as ur}from"./index-C1QwAi2s.js";import{P as dr,r as qe,k as Me,G as re,I as Mt,T as fr,a as pr,_ as hr,p as ie,m as ee,R as mr,L as vr,C as gr,e as yr}from"./App-DZK4CLd6.js";import{u as xr,r as _r,a as De,S as br}from"./index-C40BJnu0.js";import{F as Sr,A as Cr}from"./FilterAlt-8_30aH2z.js";import{c as wr,a as Rr,i as Or,o as Ir}from"./objectWithoutProperties-Dg42g5U5.js";var zr={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const jr=Zt(zr);var Tr=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function ot(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=e.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],(jr[r[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var n=e.indexOf("-->");return{type:"comment",comment:n!==-1?e.slice(4,n):""}}for(var o=new RegExp(Tr),a=null;(a=o.exec(e))!==null;)if(a[0].trim())if(a[1]){var h=a[1].trim(),g=[h,""];h.indexOf("=")>-1&&(g=h.split("=")),t.attrs[g[0]]=g[1],o.lastIndex--}else a[2]&&(t.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return t}var Er=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Pr=/^\s*$/,Lr=Object.create(null);function Dt(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(r){var n=[];for(var o in r)n.push(o+'="'+r[o]+'"');return n.length?" "+n.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(Dt,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var $r={parse:function(e,t){t||(t={}),t.components||(t.components=Lr);var r,n=[],o=[],a=-1,h=!1;if(e.indexOf("<")!==0){var g=e.indexOf("<");n.push({type:"text",content:g===-1?e:e.substring(0,g)})}return e.replace(Er,function(y,x){if(h){if(y!=="</"+r.name+">")return;h=!1}var C,R=y.charAt(1)!=="/",m=y.startsWith("<!--"),_=x+y.length,b=e.charAt(_);if(m){var l=ot(y);return a<0?(n.push(l),n):((C=o[a]).children.push(l),n)}if(R&&(a++,(r=ot(y)).type==="tag"&&t.components[r.name]&&(r.type="component",h=!0),r.voidElement||h||!b||b==="<"||r.children.push({type:"text",content:e.slice(_,e.indexOf("<",_))}),a===0&&n.push(r),(C=o[a-1])&&C.children.push(r),o[a]=r),(!R||r.voidElement)&&(a>-1&&(r.voidElement||r.name===y.slice(2,-1))&&(a--,r=a===-1?n:o[a]),!h&&b!=="<"&&b)){C=a===-1?n:o[a].children;var d=e.indexOf("<",_),s=e.slice(_,d===-1?void 0:d);Pr.test(s)&&(s=" "),(d>-1&&a+C.length>=0||s!==" ")&&C.push({type:"text",content:s})}}),n},stringify:function(e){return e.reduce(function(t,r){return t+Dt("",r)},"")}};function le(e,t){if(!e)return!1;const r=e.props?e.props.children:e.children;return t?r.length>0:!!r}function ce(e){if(!e)return[];const t=e.props?e.props.children:e.children;return e.props&&e.props.i18nIsDynamicList?M(t):t}function Ar(e){return Object.prototype.toString.call(e)!=="[object Array]"?!1:e.every(t=>O.isValidElement(t))}function M(e){return Array.isArray(e)?e:[e]}function kr(e,t){const r={...t};return r.props=Object.assign(e.props,t.props),r}function Ft(e,t){if(!e)return"";let r="";const n=M(e),o=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return n.forEach((a,h)=>{if(typeof a=="string")r+=`${a}`;else if(O.isValidElement(a)){const g=Object.keys(a.props).length,y=o.indexOf(a.type)>-1,x=a.props.children;if(!x&&y&&g===0)r+=`<${a.type}/>`;else if(!x&&(!y||g!==0))r+=`<${h}></${h}>`;else if(a.props.i18nIsDynamicList)r+=`<${h}></${h}>`;else if(y&&g===1&&typeof x=="string")r+=`<${a.type}>${x}</${a.type}>`;else{const C=Ft(x,t);r+=`<${h}>${C}</${h}>`}}else if(a===null)ae("Trans: the passed in value is invalid - seems you passed in a null child.");else if(typeof a=="object"){const{format:g,...y}=a,x=Object.keys(y);if(x.length===1){const C=g?`${x[0]}, ${g}`:x[0];r+=`{{${C}}}`}else ae("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else ae("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r}function Wr(e,t,r,n,o,a){if(t==="")return[];const h=n.transKeepBasicHtmlNodesFor||[],g=t&&new RegExp(h.map(d=>`<${d}`).join("|")).test(t);if(!e&&!g&&!a)return[t];const y={};function x(d){M(d).forEach(i=>{typeof i!="string"&&(le(i)?x(ce(i)):typeof i=="object"&&!O.isValidElement(i)&&Object.assign(y,i))})}x(e);const C=$r.parse(`<0>${t}</0>`),R={...y,...o};function m(d,s,i){const c=ce(d),u=b(c,s.children,i);return Ar(c)&&u.length===0||d.props&&d.props.i18nIsDynamicList?c:u}function _(d,s,i,c,u){d.dummy?(d.children=s,i.push(O.cloneElement(d,{key:c},u?void 0:s))):i.push(...O.Children.map([d],f=>{const p={...f.props};return delete p.i18nIsDynamicList,O.createElement(f.type,{...p,key:c,ref:f.ref},u?null:s)}))}function b(d,s,i){const c=M(d);return M(s).reduce((f,p,S)=>{const I=p.children&&p.children[0]&&p.children[0].content&&r.services.interpolator.interpolate(p.children[0].content,R,r.language);if(p.type==="tag"){let w=c[parseInt(p.name,10)];i.length===1&&!w&&(w=i[0][p.name]),w||(w={});const z=Object.keys(p.attrs).length!==0?kr({props:p.attrs},w):w,P=O.isValidElement(z),L=P&&le(p,!0)&&!p.voidElement,E=g&&typeof z=="object"&&z.dummy&&!P,k=typeof e=="object"&&e!==null&&Object.hasOwnProperty.call(e,p.name);if(typeof z=="string"){const j=r.services.interpolator.interpolate(z,R,r.language);f.push(j)}else if(le(z)||L){const j=m(z,p,i);_(z,j,f,S)}else if(E){const j=b(c,p.children,i);_(z,j,f,S)}else if(Number.isNaN(parseFloat(p.name)))if(k){const j=m(z,p,i);_(z,j,f,S,p.voidElement)}else if(n.transSupportBasicHtmlNodes&&h.indexOf(p.name)>-1)if(p.voidElement)f.push(O.createElement(p.name,{key:`${p.name}-${S}`}));else{const j=b(c,p.children,i);f.push(O.createElement(p.name,{key:`${p.name}-${S}`},j))}else if(p.voidElement)f.push(`<${p.name} />`);else{const j=b(c,p.children,i);f.push(`<${p.name}>${j}</${p.name}>`)}else if(typeof z=="object"&&!P){const j=p.children[0]?I:null;j&&f.push(j)}else _(z,I,f,S,p.children.length!==1||!I)}else if(p.type==="text"){const w=n.transWrapTextNodes,z=a?n.unescape(r.services.interpolator.interpolate(p.content,R,r.language)):r.services.interpolator.interpolate(p.content,R,r.language);w?f.push(O.createElement(w,{key:`${p.name}-${S}`},z)):f.push(z)}return f},[])}const l=b([{dummy:!0,children:e||[]}],C,M(e||[]));return ce(l[0])}function Nr(e){let{children:t,count:r,parent:n,i18nKey:o,context:a,tOptions:h={},values:g,defaults:y,components:x,ns:C,i18n:R,t:m,shouldUnescape:_,...b}=e;const l=R||Nt();if(!l)return Jt("You will need to pass in an i18next instance by using i18nextReactModule"),t;const d=m||l.t.bind(l)||(L=>L);a&&(h.context=a);const s={...Qt(),...l.options&&l.options.react};let i=C||d.ns||l.options&&l.options.defaultNS;i=typeof i=="string"?[i]:i||["translation"];const c=Ft(t,s),u=y||c||s.transEmptyNodeValue||o,{hashTransKey:f}=s,p=o||(f?f(c||u):c||u);l.options&&l.options.interpolation&&l.options.interpolation.defaultVariables&&(g=g&&Object.keys(g).length>0?{...g,...l.options.interpolation.defaultVariables}:{...l.options.interpolation.defaultVariables});const S=g||r!==void 0?h.interpolation:{interpolation:{...h.interpolation,prefix:"#$?",suffix:"?$#"}},I={...h,count:r,...g,...S,defaultValue:u,ns:i},w=p?d(p,I):u;x&&Object.keys(x).forEach(L=>{const E=x[L];if(typeof E.type=="function"||!E.props||!E.props.children||w.indexOf(`${L}/>`)<0&&w.indexOf(`${L} />`)<0)return;function k(){return O.createElement(O.Fragment,null,E)}x[L]=O.createElement(k)});const z=Wr(x||t,w,l,s,I,_),P=n!==void 0?n:s.defaultTransParent;return P?O.createElement(P,b,z):z}function qr(e){let{children:t,count:r,parent:n,i18nKey:o,context:a,tOptions:h={},values:g,defaults:y,components:x,ns:C,i18n:R,t:m,shouldUnescape:_,...b}=e;const{i18n:l,defaultNS:d}=O.useContext(er)||{},s=R||l||Nt(),i=m||s&&s.t.bind(s);return Nr({children:t,count:r,parent:n,i18nKey:o,context:a,tOptions:h,values:g,defaults:y,components:x,ns:C||i&&i.ns||d||s&&s.options&&s.options.defaultNS,i18n:s,t:m,shouldUnescape:_,...b})}function Mr(e){return Le("MuiCard",e)}Pe("MuiCard",["root"]);const Dr=["className","raised"],Fr=e=>{const{classes:t}=e;return ke({root:["root"]},Mr,t)},Hr=ne(dr,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Ur=O.forwardRef(function(t,r){const n=$e({props:t,name:"MuiCard"}),{className:o,raised:a=!1}=n,h=Ae(n,Dr),g=U({},n,{raised:a}),y=Fr(g);return v.jsx(Hr,U({className:te(y.root,o),elevation:a?8:void 0,ref:r,ownerState:g},h))});function Br(e){return Le("MuiCardActionArea",e)}const ue=Pe("MuiCardActionArea",["root","focusVisible","focusHighlight"]),Vr=["children","className","focusVisibleClassName"],Kr=e=>{const{classes:t}=e;return ke({root:["root"],focusHighlight:["focusHighlight"]},Br,t)},Gr=ne(tr,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${ue.focusHighlight}`]:{opacity:(e.vars||e).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${ue.focusVisible} .${ue.focusHighlight}`]:{opacity:(e.vars||e).palette.action.focusOpacity}})),Yr=ne("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(e,t)=>t.focusHighlight})(({theme:e})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})})),Xr=O.forwardRef(function(t,r){const n=$e({props:t,name:"MuiCardActionArea"}),{children:o,className:a,focusVisibleClassName:h}=n,g=Ae(n,Vr),y=n,x=Kr(y);return v.jsxs(Gr,U({className:te(x.root,a),focusVisibleClassName:te(h,x.focusVisible),ref:r,ownerState:y},g,{children:[o,v.jsx(Yr,{className:x.focusHighlight,ownerState:y})]}))});function Zr(e){return Le("MuiCardContent",e)}Pe("MuiCardContent",["root"]);const Jr=["className","component"],Qr=e=>{const{classes:t}=e;return ke({root:["root"]},Zr,t)},en=ne("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),tn=O.forwardRef(function(t,r){const n=$e({props:t,name:"MuiCardContent"}),{className:o,component:a="div"}=n,h=Ae(n,Jr),g=U({},n,{component:a}),y=Qr(g);return v.jsx(en,U({as:a,className:te(y.root,o),ownerState:g,ref:r},h))});var Fe={},rn=Me;Object.defineProperty(Fe,"__esModule",{value:!0});var Ht=Fe.default=void 0,nn=rn(qe()),sn=v;Ht=Fe.default=(0,nn.default)((0,sn.jsx)("path",{d:"M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H7.07L2.4 12l4.66-7H22zm-11.59-2L14 13.41 17.59 17 19 15.59 15.41 12 19 8.41 17.59 7 14 10.59 10.41 7 9 8.41 12.59 12 9 15.59z"}),"BackspaceOutlined");var He={},on=Me;Object.defineProperty(He,"__esModule",{value:!0});var Ut=He.default=void 0,an=on(qe()),ln=v;Ut=He.default=(0,an.default)((0,ln.jsx)("path",{d:"M7 11v2h10v-2zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"DoNotDisturbOnOutlined");const Bt=({k:e,onClick:t,disabled:r=!1,sx:n})=>v.jsx(rr,{size:"large",variant:"contained",sx:{...pn,...n},onClick:()=>t(e),disabled:r,disableRipple:!0,children:e==="b"?v.jsx(Ht,{}):e==="c"?v.jsx(Ut,{}):e}),cn=({possibleChar:e})=>{const{numPadOrder:t,searchRoute:r,updateSearchRouteByButton:n}=O.useContext(W);return v.jsx(re,{container:!0,spacing:0,children:t.split("").map(o=>v.jsx(re,{item:!0,xs:4,children:v.jsx(Bt,{k:o,onClick:n,sx:hn,disabled:o==="b"&&r===""||!"bc".includes(o)&&!e.includes(o)||o==="c"&&r===""})},"input-"+o))})},un=({possibleChar:e})=>{const{updateSearchRouteByButton:t}=O.useContext(W);return v.jsx(re,{container:!0,spacing:1,children:e.filter(r=>isNaN(parseInt(r,10))).map(r=>v.jsx(re,{item:!0,xs:6,children:v.jsx(Bt,{k:r,onClick:t,sx:mn})},"input-"+r))})},dn=({boardTab:e})=>{const{searchRoute:t}=O.useContext(W),{db:{routeList:r}}=O.useContext(We),n=yn(t,r,e),o=0;return navigator.userAgent==="prerendering"?v.jsx(v.Fragment,{}):v.jsxs(T,{sx:fn,padding:o,children:[v.jsx(T,{sx:gn,padding:o,children:v.jsx(cn,{possibleChar:n})}),v.jsx(T,{sx:vn,padding:o,children:v.jsx(un,{possibleChar:n})})]})},fn={zIndex:0,background:e=>e.palette.background.default,display:"flex",flexDirection:"row",height:"248px",minHeight:"62px",justifyContent:"space-around",overflow:"hidden"},pn={background:e=>e.palette.background.paper,color:e=>e.palette.text.primary,width:"100%",fontSize:"1.8em",borderRadius:"unset","&:selected":{color:e=>e.palette.text.primary},"&:hover":{backgroundColor:e=>e.palette.background.paper}},hn={height:"62px"},mn={height:"52px"},vn={width:"35%",height:"auto",overflowX:"hidden",overflowY:"scroll"},gn={width:"62%",height:"auto",overflowX:"hidden",overflowY:"scroll"},yn=(e,t,r)=>{if(t==null)return[];let n={};return Object.entries(t).forEach(([o,a])=>{if(o.startsWith(e.toUpperCase())&&a.co.some(h=>Ne[r].includes(h))){let h=o.slice(e.length,e.length+1);n[h]=isNaN(n[h])?1:n[h]+1}}),Object.entries(n).map(o=>o[0]).filter(o=>o!=="-")},xn=({boardTab:e,onChangeTab:t})=>{const{t:r}=B(),{toggleRouteFilter:n,vibrateDuration:o,isRouteFilter:a,isRecentSearchShown:h}=O.useContext(W);return xr(),v.jsxs(T,{display:"flex",alignItems:"center",children:[v.jsx(Mt,{onClick:()=>{Ie(o),n()},"aria-label":r(a?"只顯示現時路線":"顯示所有路線"),sx:{mx:1},children:a?v.jsx(Sr,{}):v.jsx(Cr,{})}),v.jsx(fr,{value:e,onChange:(g,y)=>t(y,!0),sx:bn,variant:"scrollable",scrollButtons:!0,allowScrollButtonsMobile:!0,children:Object.keys(Ne).filter(g=>h||g!=="recent").map(g=>v.jsx(pr,{label:r(g),value:g,disableRipple:!0},g))})]})},_n=(e,t)=>t&&e==="recent"||e==="all"||e==="bus"||e==="minibus"||e==="lightRail"||e==="mtr"||e==="ferry",bn={background:e=>e.palette.background.default,minHeight:"36px",overflow:"auto",maxWidth:"100%","& .MuiTab-root":{py:0,minWidth:"85px",minHeight:"32px","&.MuiButtonBase-root":{textTransform:"none"}},"& .MuiTabs-scroller":{overflow:"auto !important"}};var ze={};function Sn(e){return e&&e.__esModule?e:{default:e}}var se=Sn,K={},G,at;function Ue(){if(at)return G;at=1;function e(){return G=e=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},e.apply(this,arguments)}return G=e,G}var de,lt;function Cn(){if(lt)return de;lt=1;function e(t,r){if(t==null)return{};var n={},o=Object.keys(t),a,h;for(h=0;h<o.length;h++)a=o[h],!(r.indexOf(a)>=0)&&(n[a]=t[a]);return n}return de=e,de}var fe,ct;function Be(){if(ct)return fe;ct=1;var e=Cn();function t(r,n){if(r==null)return{};var o=e(r,n),a,h;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(r);for(h=0;h<g.length;h++)a=g[h],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(o[a]=r[a])}return o}return fe=t,fe}var pe,ut;function Ve(){if(ut)return pe;ut=1;function e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}return pe=e,pe}var he,dt;function Ke(){if(dt)return he;dt=1;function e(r,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}function t(r,n,o){return n&&e(r.prototype,n),o&&e(r,o),r}return he=t,he}var F,ft;function wn(){if(ft)return F;ft=1;function e(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(o){return typeof o}:e=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},e(r)}function t(r){return typeof Symbol=="function"&&e(Symbol.iterator)==="symbol"?F=t=function(o){return e(o)}:F=t=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":e(o)},t(r)}return F=t,F}var me,pt;function Rn(){if(pt)return me;pt=1;function e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}return me=e,me}var ve,ht;function Ge(){if(ht)return ve;ht=1;var e=wn(),t=Rn();function r(n,o){return o&&(e(o)==="object"||typeof o=="function")?o:t(n)}return ve=r,ve}var Y,mt;function Ye(){if(mt)return Y;mt=1;function e(t){return Y=e=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},e(t)}return Y=e,Y}var X,vt;function On(){if(vt)return X;vt=1;function e(t,r){return X=e=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},e(t,r)}return X=e,X}var ge,gt;function Xe(){if(gt)return ge;gt=1;var e=On();function t(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),n&&e(r,n)}return ge=t,ge}function In(e,t){if(e===t)return!0;if(!e||!t)return!1;var r=Object.keys(e),n=Object.keys(t),o=r.length;if(n.length!==o)return!1;for(var a=0;a<o;a++){var h=r[a];if(e[h]!==t[h]||!Object.prototype.hasOwnProperty.call(t,h))return!1}return!0}function zn(e,t){if(e===t)return!0;if(!e||!t)return!1;var r=e.length;if(t.length!==r)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const jn=Object.freeze(Object.defineProperty({__proto__:null,shallowEqualArrays:zn,shallowEqualObjects:In},Symbol.toStringTag,{value:"Module"})),Tn=N(jn);var H={};const En=N(wr),Pn=N(Rr);var ye={exports:{}},xe={exports:{}},yt;function Ln(){return yt||(yt=1,function(e){function t(r){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(xe)),xe.exports}var _e={exports:{}},xt;function $n(){return xt||(xt=1,function(e){function t(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(_e)),_e.exports}var _t;function An(){return _t||(_t=1,function(e){var t=Ln().default,r=$n();function n(o,a){if(a&&(t(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(o)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(ye)),ye.exports}var be={exports:{}},bt;function kn(){return bt||(bt=1,function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(be)),be.exports}const Wn=N(Or),Nn=N(hr),qn=N(Ir),Mn=N(nr);var St;function Vt(){if(St)return H;St=1,Object.defineProperty(H,"__esModule",{value:!0});function e(u){return u&&typeof u=="object"&&"default"in u?u.default:u}var t=e(En),r=e(Pn),n=e(An()),o=e(kn()),a=e(Wn),h=e(Nn),g=e(qn),y=e(Mn),x=e(O);e(ie),e(_r());function C(u,f,p){return Object.defineProperty(u,f,p)}var R=function(){var u=null;return function(){if(u!==null)return u;var f=!1;try{window.addEventListener("test",null,C({},"passive",{get:function(){f=!0}}))}catch{}return u=f,f}()}(),m={capture:!1,passive:!1};function _(u){return y({},m,u)}function b(u,f,p){var S=[u,f];return S.push(R?p:p.capture),S}function l(u,f,p,S){u.addEventListener.apply(u,b(f,p,S))}function d(u,f,p,S){u.removeEventListener.apply(u,b(f,p,S))}function s(u,f){u.children,u.target;var p=g(u,["children","target"]);Object.keys(p).forEach(function(S){if(S.substring(0,2)==="on"){var I=p[S],w=h(I),z=w==="object",P=w==="function";if(!(!z&&!P)){var L=S.substr(-7).toLowerCase()==="capture",E=S.substring(2).toLowerCase();E=L?E.substring(0,E.length-7):E,z?f(E,I.handler,I.options):f(E,I,_({capture:L}))}}})}function i(u,f){return{handler:u,options:_(f)}}var c=function(u){a(f,u);function f(){return t(this,f),n(this,o(f).apply(this,arguments))}return r(f,[{key:"componentDidMount",value:function(){this.applyListeners(l)}},{key:"componentDidUpdate",value:function(S){this.applyListeners(d,S),this.applyListeners(l)}},{key:"componentWillUnmount",value:function(){this.applyListeners(d)}},{key:"applyListeners",value:function(S){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.props,w=I.target;if(w){var z=w;typeof w=="string"&&(z=window[w]),s(I,S.bind(null,z))}}},{key:"render",value:function(){return this.props.children||null}}]),f}(x.PureComponent);return c.propTypes={},H.withOptions=i,H.default=c,H}var Ct;function Dn(){if(Ct)return K;Ct=1;var e=se;Object.defineProperty(K,"__esModule",{value:!0}),K.default=m;var t=e(Ue()),r=e(Be()),n=e(Ve()),o=e(Ke()),a=e(Ge()),h=e(Ye()),g=e(Xe()),y=e(O);e(ie);var x=Tn,C=e(Vt()),R=De();function m(_){var b=function(l){(0,g.default)(d,l);function d(s){var i;return(0,n.default)(this,d),i=(0,a.default)(this,(0,h.default)(d).call(this,s)),i.timer=null,i.state={},i.handleInterval=function(){var c=i.props,u=c.children,f=c.direction,p=c.onChangeIndex,S=c.slideCount,I=i.state.index,w=I;f==="incremental"?w+=1:w-=1,(S||u)&&(w=(0,R.mod)(w,S||y.default.Children.count(u))),i.props.index===void 0&&i.setState({index:w}),p&&p(w,I)},i.handleChangeIndex=function(c,u,f){i.props.index===void 0&&i.setState({index:c}),i.props.onChangeIndex&&i.props.onChangeIndex(c,u,f)},i.handleSwitching=function(c,u){i.timer?(clearInterval(i.timer),i.timer=null):u==="end"&&i.startInterval(),i.props.onSwitching&&i.props.onSwitching(c,u)},i.handleVisibilityChange=function(c){c.target.hidden?clearInterval(i.timer):i.startInterval()},i.state.index=s.index||0,i}return(0,o.default)(d,[{key:"componentDidMount",value:function(){this.startInterval()}},{key:"UNSAFE_componentWillReceiveProps",value:function(i){var c=i.index;typeof c=="number"&&c!==this.props.index&&this.setState({index:c})}},{key:"componentDidUpdate",value:function(i){var c=!(0,x.shallowEqualObjects)({index:i.index,interval:i.interval,autoplay:i.autoplay},{index:this.props.index,interval:this.props.interval,autoplay:this.props.autoplay});c&&this.startInterval()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"startInterval",value:function(){var i=this.props,c=i.autoplay,u=i.interval;clearInterval(this.timer),c&&(this.timer=setInterval(this.handleInterval,u))}},{key:"render",value:function(){var i=this.props,c=i.autoplay;i.direction,i.index,i.interval;var u=i.onChangeIndex,f=(0,r.default)(i,["autoplay","direction","index","interval","onChangeIndex"]),p=this.state.index;return c?y.default.createElement(C.default,{target:"document",onVisibilityChange:this.handleVisibilityChange},y.default.createElement(_,(0,t.default)({index:p,onChangeIndex:this.handleChangeIndex,onSwitching:this.handleSwitching},f))):y.default.createElement(_,(0,t.default)({index:p,onChangeIndex:u},f))}}]),d}(y.default.Component);return b.propTypes={},b.defaultProps={autoplay:!0,direction:"incremental",interval:3e3},b}return K}var Z={},J={exports:{}},wt;function Fn(){return wt||(wt=1,function(e,t){function r(y){if(y&&typeof y=="object"){var x=y.which||y.keyCode||y.charCode;x&&(y=x)}if(typeof y=="number")return h[y];var C=String(y),R=n[C.toLowerCase()];if(R)return R;var R=o[C.toLowerCase()];if(R)return R;if(C.length===1)return C.charCodeAt(0)}r.isEventKey=function(x,C){if(x&&typeof x=="object"){var R=x.which||x.keyCode||x.charCode;if(R==null)return!1;if(typeof C=="string"){var m=n[C.toLowerCase()];if(m)return m===R;var m=o[C.toLowerCase()];if(m)return m===R}else if(typeof C=="number")return C===R;return!1}},t=e.exports=r;var n=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(a=97;a<123;a++)n[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)n[a-48]=a;for(a=1;a<13;a++)n["f"+a]=a+111;for(a=0;a<10;a++)n["numpad "+a]=a+96;var h=t.names=t.title={};for(a in n)h[n[a]]=a;for(var g in o)n[g]=o[g]}(J,J.exports)),J.exports}var Rt;function Hn(){if(Rt)return Z;Rt=1;var e=se;Object.defineProperty(Z,"__esModule",{value:!0}),Z.default=m;var t=e(Ue()),r=e(Be()),n=e(Ve()),o=e(Ke()),a=e(Ge()),h=e(Ye()),g=e(Xe()),y=e(O);e(ie);var x=e(Fn()),C=e(Vt()),R=De();function m(_){var b=function(l){(0,g.default)(d,l);function d(){var s,i;(0,n.default)(this,d);for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return i=(0,a.default)(this,(s=(0,h.default)(d)).call.apply(s,[this].concat(u))),i.state={},i.handleKeyDown=function(p){var S,I=i.props,w=I.axis,z=w===void 0?"x":w,P=I.children,L=I.onChangeIndex,E=I.slideCount;switch((0,x.default)(p)){case"page down":case"down":z==="y"?S="decrease":z==="y-reverse"&&(S="increase");break;case"left":z==="x"?S="decrease":z==="x-reverse"&&(S="increase");break;case"page up":case"up":z==="y"?S="increase":z==="y-reverse"&&(S="decrease");break;case"right":z==="x"?S="increase":z==="x-reverse"&&(S="decrease");break}if(S){var k=i.state.index,j=k;S==="increase"?j+=1:j-=1,(E||P)&&(j=(0,R.mod)(j,E||y.default.Children.count(P))),i.props.index===void 0&&i.setState({index:j}),L&&L(j,k)}},i.handleChangeIndex=function(p,S,I){i.props.index===void 0&&i.setState({index:p}),i.props.onChangeIndex&&i.props.onChangeIndex(p,S,I)},i}return(0,o.default)(d,[{key:"UNSAFE_componentWillMount",value:function(){this.setState({index:this.props.index||0})}},{key:"UNSAFE_componentWillReceiveProps",value:function(i){var c=i.index;typeof c=="number"&&c!==this.props.index&&this.setState({index:c})}},{key:"render",value:function(){var i=this.props;i.index,i.onChangeIndex;var c=(0,r.default)(i,["index","onChangeIndex"]),u=this.state.index;return y.default.createElement(C.default,{target:"window",onKeyDown:this.handleKeyDown},y.default.createElement(_,(0,t.default)({index:u,onChangeIndex:this.handleChangeIndex},c)))}}]),d}(y.default.Component);return b.propTypes={},b}return Z}var Q={},Se,Ot;function Un(){if(Ot)return Se;Ot=1;function e(t){if(t&&t.__esModule)return t;var r={};if(t!=null){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};o.get||o.set?Object.defineProperty(r,n,o):r[n]=t[n]}}return r.default=t,r}return Se=e,Se}var It;function Bn(){if(It)return Q;It=1;var e=Un(),t=se;Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=R;var r=t(Ue()),n=t(Be()),o=t(Ve()),a=t(Ke()),h=t(Ge()),g=t(Ye()),y=t(Xe()),x=e(O);t(ie);var C=De();function R(m){var _=function(b){(0,y.default)(l,b);function l(d){var s;return(0,o.default)(this,l),s=(0,h.default)(this,(0,g.default)(l).call(this,d)),s.timer=null,s.state={},s.handleChangeIndex=function(i,c,u){var f=s.props,p=f.slideCount,S=f.onChangeIndex,I=i-c,w=s.state.index+I;p&&(w=(0,C.mod)(w,p)),s.props.index===void 0&&s.setIndex(w,i,I),S&&S(w,s.state.index,u)},s.handleTransitionEnd=function(){s.timer=setTimeout(function(){s.setWindow()},0),s.props.onTransitionEnd&&s.props.onTransitionEnd()},s.state.index=d.index||0,s}return(0,a.default)(l,[{key:"UNSAFE_componentWillMount",value:function(){this.setWindow(this.state.index)}},{key:"UNSAFE_componentWillReceiveProps",value:function(s){var i=s.index;if(typeof i=="number"&&i!==this.props.index){var c=i-this.props.index;this.setIndex(i,this.state.indexContainer+c,c)}}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"setIndex",value:function(s,i,c){var u={index:s,indexContainer:i,indexStart:this.state.indexStart,indexStop:this.state.indexStop};c>0&&(!this.props.slideCount||u.indexStop<this.props.slideCount-1)&&(u.indexStop+=1),s>u.indexStop&&(u.indexStop=s);var f=u.indexStart-s;f>0&&(u.indexContainer+=f,u.indexStart-=f),this.setState(u)}},{key:"setWindow",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.state.index,i=this.props.slideCount,c=this.props.overscanSlideBefore,u=this.props.overscanSlideAfter;i&&(c>s&&(c=s),u+s>i-1&&(u=i-s-1)),this.setState({indexContainer:c,indexStart:s-c,indexStop:s+u})}},{key:"render",value:function(){var s=this.props;s.children,s.index,s.onChangeIndex,s.onTransitionEnd,s.overscanSlideAfter,s.overscanSlideBefore,s.slideCount;for(var i=s.slideRenderer,c=(0,n.default)(s,["children","index","onChangeIndex","onTransitionEnd","overscanSlideAfter","overscanSlideBefore","slideCount","slideRenderer"]),u=this.state,f=u.indexContainer,p=u.indexStart,S=u.indexStop,I=[],w=p;w<=S;w+=1)I.push(i({index:w,key:w}));return x.default.createElement(m,(0,r.default)({index:f,onChangeIndex:this.handleChangeIndex,onTransitionEnd:this.handleTransitionEnd},c),I)}}]),l}(x.PureComponent);return _.propTypes={},_.defaultProps={overscanSlideAfter:2,overscanSlideBefore:3},_}return Q}(function(e){var t=se;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"autoPlay",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"bindKeyboard",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"virtualize",{enumerable:!0,get:function(){return o.default}});var r=t(Dn()),n=t(Hn()),o=t(Bn())})(ze);var Ze={},Vn=Me;Object.defineProperty(Ze,"__esModule",{value:!0});var je=Ze.default=void 0,Kn=Vn(qe()),Ce=v;je=Ze.default=(0,Kn.default)([(0,Ce.jsx)("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"0"),(0,Ce.jsx)("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"1"),(0,Ce.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5"},"2")],"SentimentVeryDissatisfied");var Gn=typeof performance=="object"&&typeof performance.now=="function",zt=Gn?function(){return performance.now()}:function(){return Date.now()};function jt(e){cancelAnimationFrame(e.id)}function Yn(e,t){var r=zt();function n(){zt()-r>=t?e.call(null):o.id=requestAnimationFrame(n)}var o={id:requestAnimationFrame(n)};return o}var we=-1;function Tt(e){if(e===void 0&&(e=!1),we===-1||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(t),we=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return we}var q=null;function Et(e){if(e===void 0&&(e=!1),q===null||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),o=n.style;return o.width="100px",o.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?q="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?q="negative":q="positive-ascending"),document.body.removeChild(t),q}return q}var Xn=150,Zn=function(t,r){return t};function Jn(e){var t,r=e.getItemOffset,n=e.getEstimatedTotalSize,o=e.getItemSize,a=e.getOffsetForIndexAndAlignment,h=e.getStartIndexForOffset,g=e.getStopIndexForStartIndex,y=e.initInstanceProps,x=e.shouldResetStyleCacheOnItemSizeChange,C=e.validateProps;return t=function(R){ir(m,R);function m(b){var l;return l=R.call(this,b)||this,l._instanceProps=y(l.props,nt(l)),l._outerRef=void 0,l._resetIsScrollingTimeoutId=null,l.state={instance:nt(l),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof l.props.initialScrollOffset=="number"?l.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},l._callOnItemsRendered=void 0,l._callOnItemsRendered=ee(function(d,s,i,c){return l.props.onItemsRendered({overscanStartIndex:d,overscanStopIndex:s,visibleStartIndex:i,visibleStopIndex:c})}),l._callOnScroll=void 0,l._callOnScroll=ee(function(d,s,i){return l.props.onScroll({scrollDirection:d,scrollOffset:s,scrollUpdateWasRequested:i})}),l._getItemStyle=void 0,l._getItemStyle=function(d){var s=l.props,i=s.direction,c=s.itemSize,u=s.layout,f=l._getItemStyleCache(x&&c,x&&u,x&&i),p;if(f.hasOwnProperty(d))p=f[d];else{var S=r(l.props,d,l._instanceProps),I=o(l.props,d,l._instanceProps),w=i==="horizontal"||u==="horizontal",z=i==="rtl",P=w?S:0;f[d]=p={position:"absolute",left:z?void 0:P,right:z?P:void 0,top:w?0:S,height:w?"100%":I,width:w?I:"100%"}}return p},l._getItemStyleCache=void 0,l._getItemStyleCache=ee(function(d,s,i){return{}}),l._onScrollHorizontal=function(d){var s=d.currentTarget,i=s.clientWidth,c=s.scrollLeft,u=s.scrollWidth;l.setState(function(f){if(f.scrollOffset===c)return null;var p=l.props.direction,S=c;if(p==="rtl")switch(Et()){case"negative":S=-c;break;case"positive-descending":S=u-i-c;break}return S=Math.max(0,Math.min(S,u-i)),{isScrolling:!0,scrollDirection:f.scrollOffset<c?"forward":"backward",scrollOffset:S,scrollUpdateWasRequested:!1}},l._resetIsScrollingDebounced)},l._onScrollVertical=function(d){var s=d.currentTarget,i=s.clientHeight,c=s.scrollHeight,u=s.scrollTop;l.setState(function(f){if(f.scrollOffset===u)return null;var p=Math.max(0,Math.min(u,c-i));return{isScrolling:!0,scrollDirection:f.scrollOffset<p?"forward":"backward",scrollOffset:p,scrollUpdateWasRequested:!1}},l._resetIsScrollingDebounced)},l._outerRefSetter=function(d){var s=l.props.outerRef;l._outerRef=d,typeof s=="function"?s(d):s!=null&&typeof s=="object"&&s.hasOwnProperty("current")&&(s.current=d)},l._resetIsScrollingDebounced=function(){l._resetIsScrollingTimeoutId!==null&&jt(l._resetIsScrollingTimeoutId),l._resetIsScrollingTimeoutId=Yn(l._resetIsScrolling,Xn)},l._resetIsScrolling=function(){l._resetIsScrollingTimeoutId=null,l.setState({isScrolling:!1},function(){l._getItemStyleCache(-1,null)})},l}m.getDerivedStateFromProps=function(l,d){return Qn(l,d),C(l),null};var _=m.prototype;return _.scrollTo=function(l){l=Math.max(0,l),this.setState(function(d){return d.scrollOffset===l?null:{scrollDirection:d.scrollOffset<l?"forward":"backward",scrollOffset:l,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},_.scrollToItem=function(l,d){d===void 0&&(d="auto");var s=this.props,i=s.itemCount,c=s.layout,u=this.state.scrollOffset;l=Math.max(0,Math.min(l,i-1));var f=0;if(this._outerRef){var p=this._outerRef;c==="vertical"?f=p.scrollWidth>p.clientWidth?Tt():0:f=p.scrollHeight>p.clientHeight?Tt():0}this.scrollTo(a(this.props,l,d,u,this._instanceProps,f))},_.componentDidMount=function(){var l=this.props,d=l.direction,s=l.initialScrollOffset,i=l.layout;if(typeof s=="number"&&this._outerRef!=null){var c=this._outerRef;d==="horizontal"||i==="horizontal"?c.scrollLeft=s:c.scrollTop=s}this._callPropsCallbacks()},_.componentDidUpdate=function(){var l=this.props,d=l.direction,s=l.layout,i=this.state,c=i.scrollOffset,u=i.scrollUpdateWasRequested;if(u&&this._outerRef!=null){var f=this._outerRef;if(d==="horizontal"||s==="horizontal")if(d==="rtl")switch(Et()){case"negative":f.scrollLeft=-c;break;case"positive-ascending":f.scrollLeft=c;break;default:var p=f.clientWidth,S=f.scrollWidth;f.scrollLeft=S-p-c;break}else f.scrollLeft=c;else f.scrollTop=c}this._callPropsCallbacks()},_.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&jt(this._resetIsScrollingTimeoutId)},_.render=function(){var l=this.props,d=l.children,s=l.className,i=l.direction,c=l.height,u=l.innerRef,f=l.innerElementType,p=l.innerTagName,S=l.itemCount,I=l.itemData,w=l.itemKey,z=w===void 0?Zn:w,P=l.layout,L=l.outerElementType,E=l.outerTagName,k=l.style,j=l.useIsScrolling,Kt=l.width,Je=this.state.isScrolling,oe=i==="horizontal"||P==="horizontal",Gt=oe?this._onScrollHorizontal:this._onScrollVertical,Qe=this._getRangeToRender(),Yt=Qe[0],Xt=Qe[1],et=[];if(S>0)for(var D=Yt;D<=Xt;D++)et.push(O.createElement(d,{data:I,key:z(D,I),index:D,isScrolling:j?Je:void 0,style:this._getItemStyle(D)}));var tt=n(this.props,this._instanceProps);return O.createElement(L||E||"div",{className:s,onScroll:Gt,ref:this._outerRefSetter,style:sr({position:"relative",height:c,width:Kt,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:i},k)},O.createElement(f||p||"div",{children:et,ref:u,style:{height:oe?"100%":tt,pointerEvents:Je?"none":void 0,width:oe?tt:"100%"}}))},_._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var l=this.props.itemCount;if(l>0){var d=this._getRangeToRender(),s=d[0],i=d[1],c=d[2],u=d[3];this._callOnItemsRendered(s,i,c,u)}}if(typeof this.props.onScroll=="function"){var f=this.state,p=f.scrollDirection,S=f.scrollOffset,I=f.scrollUpdateWasRequested;this._callOnScroll(p,S,I)}},_._getRangeToRender=function(){var l=this.props,d=l.itemCount,s=l.overscanCount,i=this.state,c=i.isScrolling,u=i.scrollDirection,f=i.scrollOffset;if(d===0)return[0,0,0,0];var p=h(this.props,f,this._instanceProps),S=g(this.props,p,f,this._instanceProps),I=!c||u==="backward"?Math.max(1,s):1,w=!c||u==="forward"?Math.max(1,s):1;return[Math.max(0,p-I),Math.max(0,Math.min(d-1,S+w)),p,S]},m}(O.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Qn=function(t,r){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,r.instance},ei=Jn({getItemOffset:function(t,r){var n=t.itemSize;return r*n},getItemSize:function(t,r){var n=t.itemSize;return n},getEstimatedTotalSize:function(t){var r=t.itemCount,n=t.itemSize;return n*r},getOffsetForIndexAndAlignment:function(t,r,n,o,a,h){var g=t.direction,y=t.height,x=t.itemCount,C=t.itemSize,R=t.layout,m=t.width,_=g==="horizontal"||R==="horizontal",b=_?m:y,l=Math.max(0,x*C-b),d=Math.min(l,r*C),s=Math.max(0,r*C-b+C+h);switch(n==="smart"&&(o>=s-b&&o<=d+b?n="auto":n="center"),n){case"start":return d;case"end":return s;case"center":{var i=Math.round(s+(d-s)/2);return i<Math.ceil(b/2)?0:i>l+Math.floor(b/2)?l:i}case"auto":default:return o>=s&&o<=d?o:o<s?s:d}},getStartIndexForOffset:function(t,r){var n=t.itemCount,o=t.itemSize;return Math.max(0,Math.min(n-1,Math.floor(r/o)))},getStopIndexForStartIndex:function(t,r,n){var o=t.direction,a=t.height,h=t.itemCount,g=t.itemSize,y=t.layout,x=t.width,C=o==="horizontal"||y==="horizontal",R=r*g,m=C?x:a,_=Math.ceil((m+n-R)/g);return Math.max(0,Math.min(h-1,r+_-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});function Pt(e,t){for(var r in e)if(!(r in t))return!0;for(var n in t)if(e[n]!==t[n])return!0;return!1}var ti=["style"],ri=["style"];function ni(e,t){var r=e.style,n=rt(e,ti),o=t.style,a=rt(t,ri);return!Pt(r,o)&&!Pt(n,a)}let $;typeof window<"u"?$=window:typeof self<"u"?$=self:$=global;let Te=null,Ee=null;const Lt=20,Re=$.clearTimeout,$t=$.setTimeout,Oe=$.cancelAnimationFrame||$.mozCancelAnimationFrame||$.webkitCancelAnimationFrame,At=$.requestAnimationFrame||$.mozRequestAnimationFrame||$.webkitRequestAnimationFrame;Oe==null||At==null?(Te=Re,Ee=function(t){return $t(t,Lt)}):(Te=function([t,r]){Oe(t),Re(r)},Ee=function(t){const r=At(function(){Re(n),t()}),n=$t(function(){Oe(r),t()},Lt);return[r,n]});function ii(e){let t,r,n,o,a,h,g;const y=typeof document<"u"&&document.attachEvent;if(!y){h=function(s){const i=s.__resizeTriggers__,c=i.firstElementChild,u=i.lastElementChild,f=c.firstElementChild;u.scrollLeft=u.scrollWidth,u.scrollTop=u.scrollHeight,f.style.width=c.offsetWidth+1+"px",f.style.height=c.offsetHeight+1+"px",c.scrollLeft=c.scrollWidth,c.scrollTop=c.scrollHeight},a=function(s){return s.offsetWidth!==s.__resizeLast__.width||s.offsetHeight!==s.__resizeLast__.height},g=function(s){if(s.target.className&&typeof s.target.className.indexOf=="function"&&s.target.className.indexOf("contract-trigger")<0&&s.target.className.indexOf("expand-trigger")<0)return;const i=this;h(this),this.__resizeRAF__&&Te(this.__resizeRAF__),this.__resizeRAF__=Ee(function(){a(i)&&(i.__resizeLast__.width=i.offsetWidth,i.__resizeLast__.height=i.offsetHeight,i.__resizeListeners__.forEach(function(f){f.call(i,s)}))})};let m=!1,_="";n="animationstart";const b="Webkit Moz O ms".split(" ");let l="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),d="";{const s=document.createElement("fakeelement");if(s.style.animationName!==void 0&&(m=!0),m===!1){for(let i=0;i<b.length;i++)if(s.style[b[i]+"AnimationName"]!==void 0){d=b[i],_="-"+d.toLowerCase()+"-",n=l[i],m=!0;break}}}r="resizeanim",t="@"+_+"keyframes "+r+" { from { opacity: 0; } to { opacity: 0; } } ",o=_+"animation: 1ms "+r+"; "}const x=function(m){if(!m.getElementById("detectElementResize")){const _=(t||"")+".resize-triggers { "+(o||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',b=m.head||m.getElementsByTagName("head")[0],l=m.createElement("style");l.id="detectElementResize",l.type="text/css",e!=null&&l.setAttribute("nonce",e),l.styleSheet?l.styleSheet.cssText=_:l.appendChild(m.createTextNode(_)),b.appendChild(l)}};return{addResizeListener:function(m,_){if(y)m.attachEvent("onresize",_);else{if(!m.__resizeTriggers__){const b=m.ownerDocument,l=$.getComputedStyle(m);l&&l.position==="static"&&(m.style.position="relative"),x(b),m.__resizeLast__={},m.__resizeListeners__=[],(m.__resizeTriggers__=b.createElement("div")).className="resize-triggers";const d=b.createElement("div");d.className="expand-trigger",d.appendChild(b.createElement("div"));const s=b.createElement("div");s.className="contract-trigger",m.__resizeTriggers__.appendChild(d),m.__resizeTriggers__.appendChild(s),m.appendChild(m.__resizeTriggers__),h(m),m.addEventListener("scroll",g,!0),n&&(m.__resizeTriggers__.__animationListener__=function(c){c.animationName===r&&h(m)},m.__resizeTriggers__.addEventListener(n,m.__resizeTriggers__.__animationListener__))}m.__resizeListeners__.push(_)}},removeResizeListener:function(m,_){if(y)m.detachEvent("onresize",_);else if(m.__resizeListeners__.splice(m.__resizeListeners__.indexOf(_),1),!m.__resizeListeners__.length){m.removeEventListener("scroll",g,!0),m.__resizeTriggers__.__animationListener__&&(m.__resizeTriggers__.removeEventListener(n,m.__resizeTriggers__.__animationListener__),m.__resizeTriggers__.__animationListener__=null);try{m.__resizeTriggers__=!m.removeChild(m.__resizeTriggers__)}catch{}}}}}class kt extends O.Component{constructor(...t){super(...t),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:r,disableWidth:n,onResize:o}=this.props;if(this._parentNode){const a=window.getComputedStyle(this._parentNode)||{},h=parseFloat(a.paddingLeft||"0"),g=parseFloat(a.paddingRight||"0"),y=parseFloat(a.paddingTop||"0"),x=parseFloat(a.paddingBottom||"0"),C=this._parentNode.getBoundingClientRect(),R=C.height-y-x,m=C.width-h-g,_=this._parentNode.offsetHeight-y-x,b=this._parentNode.offsetWidth-h-g;(!r&&(this.state.height!==_||this.state.scaledHeight!==R)||!n&&(this.state.width!==b||this.state.scaledWidth!==m))&&(this.setState({height:_,width:b,scaledHeight:R,scaledWidth:m}),typeof o=="function"&&o({height:_,scaledHeight:R,scaledWidth:m,width:b}))}},this._setRef=r=>{this._autoSizer=r}}componentDidMount(){const{nonce:t}=this.props,r=this._autoSizer?this._autoSizer.parentNode:null;if(r!=null&&r.ownerDocument&&r.ownerDocument.defaultView&&r instanceof r.ownerDocument.defaultView.HTMLElement){this._parentNode=r;const n=r.ownerDocument.defaultView.ResizeObserver;n!=null?(this._resizeObserver=new n(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(r)):(this._detectElementResize=ii(t),this._detectElementResize.addResizeListener(r,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:t,defaultHeight:r,defaultWidth:n,disableHeight:o=!1,disableWidth:a=!1,doNotBailOutOnEmptyChildren:h=!1,nonce:g,onResize:y,style:x={},tagName:C="div",...R}=this.props,{height:m,scaledHeight:_,scaledWidth:b,width:l}=this.state,d={overflow:"visible"},s={};let i=!1;return o||(m===0&&(i=!0),d.height=0,s.height=m,s.scaledHeight=_),a||(l===0&&(i=!0),d.width=0,s.width=l,s.scaledWidth=b),h&&(i=!1),O.createElement(C,{ref:this._setRef,style:{...d,...x},...R},!i&&t(s))}}const si=({terminus:e})=>{const{t}=B(),r=V();return v.jsxs(T,{sx:oi,children:[v.jsxs(T,{sx:ai,children:[v.jsx("span",{children:`${t("往")} `}),v.jsx(A,{component:"h3",variant:"h6",sx:ci,children:it(e.dest[r])})]}),v.jsx(T,{sx:li,children:v.jsx(A,{variant:"body2",children:it(e.orig[r])})})]})},oi={textAlign:"left","& > span":{}},ai={display:"flex",alignItems:"baseline",whiteSpace:"nowrap",overflowX:"hidden","& > span":{fontSize:"0.95em",mr:.5}},li={display:"flex",alignItems:"baseline",whiteSpace:"nowrap",overflowX:"hidden"},ci={fontWeight:700},ui=({route:e})=>{const{t}=B(),r=V(),[n,o]=e[0].split("-").slice(0,2);return v.jsxs(T,{overflow:"hidden",children:[v.jsx(mr,{routeNo:r==="zh"?t(n):n,fontSize:e[1].co[0]==="mtr"?"1.2rem":void 0}),parseInt(o,10)>=2&&v.jsx(A,{variant:"caption",sx:fi,children:t("特別班")}),v.jsx(A,{component:"h4",variant:"caption",sx:di,children:Object.keys(e[1].stops).map(a=>t(a)).join("+")})]})},di={color:e=>e.palette.text.secondary},fi={fontSize:"0.6rem",marginLeft:"8px"},pi=({route:e,onClick:t,style:r,onRemove:n})=>{const o=V();return v.jsx(vr,{to:`/${o}/route/${e[0].toLowerCase()}`,style:r,children:v.jsxs(Ur,{variant:"outlined",square:!0,sx:hi,children:[v.jsx(Xr,{onClick:t,children:v.jsxs(tn,{sx:mi,children:[v.jsx(ui,{route:e}),v.jsx(si,{terminus:e[1]})]})}),n&&v.jsx(Mt,{onClick:n,children:v.jsx(gr,{})})]},e[0])})},hi={border:"none",display:"flex",alignItems:"center",height:"100%",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBlockColor:e=>e.palette.mode==="dark"?st[900]:st[200]},mi={display:"grid",gridTemplateColumns:"25% 65%",py:.5,px:2,alignItems:"center"},Wt=qt.memo(({data:{routeList:e,vibrateDuration:t,tab:r},index:n,style:o})=>{const a=e[n],{addSearchHistory:h,removeSearchHistoryByRouteId:g}=O.useContext(W),y=V(),x=yr(),C=O.useCallback(m=>{m.preventDefault(),Ie(t),h(a[0]),setTimeout(()=>{x(`/${y}/route/${a[0].toLowerCase()}`)},0)},[t,h,a,x,y]),R=m=>{m.preventDefault(),Ie(t),g(a[0])};return v.jsx(pi,{onClick:C,route:a,style:o??{},onRemove:r==="recent"?R:void 0})},ni),vi=({boardTab:e,onChangeTab:t})=>{const{searchRoute:r,isRouteFilter:n,busSortOrder:o,routeSearchHistory:a,vibrateDuration:h,isRecentSearchShown:g}=O.useContext(W),{db:{holidays:y,routeList:x,serviceDayMap:C}}=O.useContext(We),R=O.useMemo(()=>or(y,new Date),[y]),{t:m}=B(),_=O.useMemo(()=>{const s=Object.entries(x).filter(([i,{stops:c,co:u}])=>i.startsWith(r.toUpperCase())&&(c[u[0]]==null||c[u[0]].length>0)).filter(([i,{freq:c}])=>!n||ar(i,c,R,C)).sort((i,c)=>lr(i,c,cr[o]));return Object.entries(Ne).filter(([i])=>g||i!=="recent").map(([i,c])=>gi(i==="recent"?a.filter(u=>u.startsWith(r.toUpperCase())).filter(u=>x[u]).map(u=>[u,x[u]]):s.filter(([,{co:u}])=>u.some(f=>c.includes(f))),h,i))},[x,R,r,n,h,o,a,g,C]),b=O.useMemo(()=>{const s=parseInt(getComputedStyle(document.body).fontSize,10);return s<=18?64:s<=22?78:s<=26?92:s<=30?98:110},[]),l=O.useMemo(()=>xi.filter(s=>g||s!=="recent"),[g]),d=O.useCallback(({key:s,index:i})=>v.jsx(qt.Fragment,{children:_[i].routeList.length>0?v.jsx(kt,{children:({height:c,width:u})=>v.jsx(ei,{height:c*.98,itemCount:_[i].routeList.length,itemSize:b,width:u,itemData:_[i],children:Wt})}):v.jsx(kt,{children:({width:c})=>v.jsxs(T,{sx:bi,width:c,children:[v.jsx(T,{display:"flex",alignItems:"center",flexDirection:"column",gap:1,children:l[i]!=="recent"?v.jsxs(v.Fragment,{children:[v.jsxs(T,{display:"flex",alignItems:"center",children:[v.jsx(je,{fontSize:"small"}),v.jsxs(A,{variant:"h6",children:['"',r,'"']}),v.jsx(A,{variant:"h6",children:m("route-search-no-result")})]}),v.jsx(A,{variant:"body1",children:m("suggest-update-database")})]}):v.jsxs(T,{display:"flex",alignItems:"center",gap:2,children:[v.jsxs(T,{display:"flex",alignItems:"center",children:[v.jsx(je,{fontSize:"small"}),r.length>0&&v.jsxs(A,{variant:"h6",children:['"',r,'"']})]}),v.jsx(A,{variant:"h6",children:m("no-recent-search")})]})}),l[i]!=="all"&&v.jsx(T,{display:"flex",children:v.jsx(A,{variant:"h6",children:v.jsx(qr,{i18nKey:"tap-here-to-search-all-routes",components:{TapHereLink:v.jsx(A,{variant:"h6",component:"span",sx:Si,onClick:()=>t("all")})}})})})]})})},s),[b,_,r,m,l,t]);return O.useMemo(()=>v.jsx(v.Fragment,{children:navigator.userAgent==="prerendering"?v.jsx(T,{sx:_i,children:_[0].routeList.map((s,i)=>v.jsx(Wt,{data:_[0],index:i,style:null},`route-${i}`))}):v.jsx(yi,{index:l.indexOf(e),onChangeIndex:s=>{t(l[s])},style:{flex:1,display:"flex"},containerStyle:{flex:1},slideCount:_.length,overscanSlideAfter:1,overscanSlideBefore:1,slideRenderer:d,enableMouseEvents:!0})}),[d,_,t,e,l])},gi=ee((e,t,r)=>({routeList:e,vibrateDuration:t,tab:r})),yi=ze.bindKeyboard(ze.virtualize(br)),xi=["recent","all","bus","minibus","lightRail","mtr","ferry"],_i={height:"100%",overflowY:"scroll"},bi={height:"120px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center","& .MuiSvgIcon-root":{fontSize:"3em",mr:2},gap:2},Si={textDecoration:"underline",display:"inline",cursor:"pointer"},Ci=({boardTab:e,setBoardTab:t})=>{const{AppTitle:r}=O.useContext(We),{t:n}=B(),o=V();O.useEffect(()=>{ur({title:n("搜尋")+" - "+n(r),description:n("route-board-page-description"),lang:o})},[o,n,r]);const a=O.useCallback(h=>{t(h),localStorage.setItem("boardTab",h)},[t]);return v.jsxs(T,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[v.jsx(xn,{boardTab:e,onChangeTab:a}),v.jsx(vi,{boardTab:e,onChangeTab:a})]})},ji=()=>{const{isRecentSearchShown:e,isSearching:t}=O.useContext(W),r=localStorage.getItem("boardTab"),[n,o]=O.useState(_n(r,e)?r:"all"),[a,h]=O.useState(window.innerHeight);return O.useEffect(()=>{const g=()=>h(window.innerHeight);return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),v.jsxs(T,{sx:{display:"flex",flexDirection:"column-reverse",height:"100%"},children:[v.jsx(T,{sx:{height:"auto",maxHeight:"100%",display:a>525||t?"flex":"none",flexDirection:"column",overflowY:"scroll"},children:v.jsx(dn,{boardTab:n})}),v.jsx(T,{sx:{flex:1,display:"flex",flexDirection:"column",overflowY:"scroll"},children:v.jsx(Ci,{boardTab:n,setBoardTab:o})})]})};export{ji as default};
